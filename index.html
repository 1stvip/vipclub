<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VipClub - Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</title>
        <link rel="shortcut icon" href="images//videoslogo/vip.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0; padding: 0;
            display: flex; flex-direction: column;
            min-height: 100vh;
            background-color: #f9f9f9;
            color: #333;
        }
        header {
            background-color: #1a1a1a;
            color: white; padding: 1rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            position: sticky; top: 0; z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .sub-nav {
            background-color: #2a2a2a;
            border-bottom: 2px solid #ffd700;
            padding: 10px 0;
            position: sticky;
            top: 70px; 
            z-index: 999;
            overflow-x: auto;
            white-space: nowrap;
            scrollbar-width: none;
        }
        .sub-nav::-webkit-scrollbar { display: none; }
        .sub-nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            margin: 0;
            padding: 0 20px;
            gap: 20px;
        }
        .sub-nav a {
            color: #ddd;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: 0.3s;
        }
        .sub-nav a:hover { color: #ffd700; }
        .logo-container {
            display: flex; align-items: center; gap: 15px;
            width: 100%; justify-content: space-between;
        }
        header .logo {
            font-size: 1.8rem; font-weight: bold;
            color: #ffd700; text-transform: uppercase;
            letter-spacing: 1px; cursor: pointer;
        }
        .icon-wrapper { 
            display: flex; align-items: center; gap: 12px; 
            position: relative; 
        }
        .header-icon {
            font-size: 1.3rem; color: white; cursor: pointer;
            transition: 0.3s; background: rgba(255, 255, 255, 0.1);
            width: 40px; height: 40px;
            display: flex; align-items: center; justify-content: center;
            border-radius: 50%; position: relative;
            text-decoration: none;
        }
        .header-icon:hover {
            color: #ffd700; background: rgba(255, 215, 0, 0.2);
        }
        .badge {
            position: absolute; top: -2px; right: -2px;
            background: #ff4757; color: white;
            font-size: 0.65rem; padding: 2px 6px;
            border-radius: 50%; border: 2px solid #1a1a1a;
        }
        .notif-dropdown {
            position: absolute;
            top: 55px; left: 0; 
            width: 350px; max-width: 85vw;
            background: #222; color: white;
            border-radius: 12px; border: 1px solid #444;
            box-shadow: 0 10px 40px rgba(0,0,0,0.6);
            display: none; flex-direction: column;
            z-index: 1001; overflow: hidden;
        }
        .notif-dropdown.active { display: flex; animation: slideDown 0.3s ease-out; }
        @keyframes slideDown { 
            from { opacity: 0; transform: translateY(-10px); } 
            to { opacity: 1; transform: translateY(0); } 
        }
        .notif-header { 
            padding: 12px 15px; background: #2a2a2a; 
            display: flex; justify-content: space-between; align-items: center; 
            border-bottom: 1px solid #444;
        }
        #notifList { 
            max-height: 400px; 
            overflow-y: auto;
            min-height: 100px;
        }
        .notif-item { 
            padding: 12px; border-bottom: 1px solid #333; 
            font-size: 0.85rem; display: flex; 
            justify-content: space-between; align-items: center; 
            gap: 10px; transition: 0.2s; 
            text-align: right;
        }
        .notif-item.unread { 
            background: #2d2d2d; 
            border-right: 4px solid #ffd700;
        }
        .notif-item:hover { background: #333; }
        .delete-notif { 
            color: #777; cursor: pointer; padding: 5px; 
            transition: 0.3s; font-size: 0.9rem;
        }
        .delete-notif:hover { color: #ff4757; transform: scale(1.1); }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØµØºØ±Ø© Ù„Ù„ÙÙŠØ¯ÙŠÙˆ */
        .video-thumbnail {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            transition: opacity 0.3s ease;
            z-index: 2;
        }
        
        .video-thumbnail.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: rgba(255, 215, 0, 0.8);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1a1a1a;
            font-size: 2rem;
            cursor: pointer;
            z-index: 3;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .play-button:hover {
            background: rgba(255, 215, 0, 1);
            transform: translate(-50%, -50%) scale(1.1);
        }
        
        .video-container {
            position: relative;
            width: 100%;
            padding-top: 56.25%; /* Ù†Ø³Ø¨Ø© 16:9 Ù„Ù„ÙÙŠØ¯ÙŠÙˆ */
            background-color: #1a1a1a;
            overflow: hidden;
        }
        
        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            z-index: 1;
        }
        
        /* Ù‚Ø³Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ */
        .videos-section {
            padding: 40px 5%;
            background-color: #fff;
            width: 100%;
        }
        .section-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }
        .section-header h2 {
            font-size: 2.2rem;
            color: #1a1a1a;
            margin-bottom: 10px;
            display: inline-block;
        }
        .section-header h2::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: #ffd700;
            margin: 10px auto;
            border-radius: 2px;
        }
        .section-subtitle {
            color: #666;
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto 30px;
            line-height: 1.6;
        }
        
        /* ØªØ­Ø¯ÙŠØ« ØªØµÙ…ÙŠÙ… Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª */
        .video-container-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· */
        .single-video-layout {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
        }
        
        /* Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† ÙÙŠØ¯ÙŠÙˆ */
        .multiple-videos-layout {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            width: 100%;
        }
        
        .video-card {
            background: #fff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #eee;
            height: 100%;
        }
        
        .single-video-layout .video-card {
            max-width: 100%;
        }
        
        .video-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.12);
        }
        
        .video-info {
            padding: 20px;
            background-color: #fff;
        }
        .video-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 10px;
            line-height: 1.4;
        }
        .video-description {
            font-size: 0.95rem;
            color: #666;
            line-height: 1.5;
            margin-bottom: 15px;
        }
        .video-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: #888;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        .video-date {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .video-views {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        /* Ø±Ø³Ø§Ù„Ø© Ø¹Ù†Ø¯Ù…Ø§ Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª */
        .no-videos {
            text-align: center;
            padding: 50px 20px;
            background-color: #f9f9f9;
            border-radius: 12px;
            border: 2px dashed #ddd;
            margin: 30px 0;
        }
        .no-videos i {
            font-size: 4rem;
            color: #ddd;
            margin-bottom: 20px;
        }
        .no-videos h3 {
            color: #666;
            margin-bottom: 10px;
        }
        .no-videos p {
            color: #888;
            max-width: 500px;
            margin: 0 auto 20px;
        }
        
        main { 
            flex: 1; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            text-align: center; 
            padding: 50px 20px; 
            background: linear-gradient(135deg, #f9f9f9 0%, #ffffff 100%);
        }
        main h1 { 
            font-size: 2.5rem; 
            margin-bottom: 10px; 
            color: #1a1a1a;
        }
        main p { 
            font-size: 1.1rem; 
            color: #666; 
            max-width: 600px; 
        }
        .floating-support { 
            position: fixed; 
            bottom: 25px; 
            right: 25px; 
            width: 60px; 
            height: 60px; 
            background: #6366f1; 
            color: white; 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 1.8rem; 
            box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4); 
            cursor: pointer; 
            z-index: 9999; 
            transition: 0.3s; 
            text-decoration: none;
        }
        .floating-support:hover { transform: scale(1.1); }
        .pulse-dot { 
            position: absolute; 
            top: 2px; 
            right: 2px; 
            width: 14px; 
            height: 14px; 
            background: #ff4757; 
            border: 2px solid white; 
            border-radius: 50%; 
            animation: pulse-ring 2s infinite; 
        }
        @keyframes pulse-ring { 
            0% { transform: scale(0.33); } 
            80%, 100% { opacity: 0; } 
        }
        footer { 
            background-color: #1a1a1a; 
            color: #ffffff; 
            text-align: center; 
            padding: 20px 0; 
            border-top: 3px solid #ffd700; 
            margin-top: 40px;
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .multiple-videos-layout {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            .single-video-layout {
                width: 100%;
            }
            .videos-section {
                padding: 30px 20px;
            }
            .section-header h2 {
                font-size: 1.8rem;
            }
            .video-title {
                font-size: 1.2rem;
            }
            .video-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .play-button {
                width: 60px;
                height: 60px;
                font-size: 1.7rem;
            }
        }
        
        @media (max-width: 600px) {
            header { padding: 0.8rem 1rem; }
            .sub-nav ul { justify-content: flex-start; }
            .notif-dropdown { left: -20px; width: 290px; }
            main h1 { font-size: 2rem; }
            .play-button {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo-container">
            <div class="logo" onclick="location.reload()">ğŸ‘‘VipClubğŸ‘‘</div>

            <div class="icon-wrapper">
                <div class="header-icon" onclick="handleProfileClick()" title="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ">
                    <i class="fas fa-user-circle"></i>
                </div>
                
                <div class="header-icon" onclick="handleSettingsClick()" title="Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª">
                    <i class="fas fa-cog"></i>
                </div>

                <div class="header-icon" onclick="toggleNotifs()" title="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª">
                    <i class="fas fa-bell"></i>
                    <span class="badge" id="notifBadge" style="display:none;">0</span>
                </div>

                <div id="notifDropdown" class="notif-dropdown">
                    <div class="notif-header">
                        <span style="font-weight:bold; color: #ffd700;">
                            <i class="fas fa-bell"></i> Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
                        </span>
                        <div style="display:flex; gap:10px; font-size:0.8rem;">
                            <i class="fas fa-sync-alt" onclick="loadNotifications()" 
                               style="cursor:pointer; color:#ffd700;" title="ØªØ­Ø¯ÙŠØ«"></i>
                            <span onclick="markAllRead()" style="cursor:pointer; color:#ddd;">Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙ„</span>
                            <span onclick="deleteAllNotifs()" style="cursor:pointer; color:#ff4757;">Ø­Ø°Ù Ø§Ù„ÙƒÙ„</span>
                        </div>
                    </div>
                    <div id="notifList">
                        <div style="padding:30px 20px; text-align:center; color:#888;">
                            Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <nav class="sub-nav">
        <ul>
            <li><a href="home.html">Binance Red Packets</a></li>
            <li><a href="MarketPlace.html">Games Accounts</a></li>
            <li><a href="ChargGames.html">Charg Games</a></li>
        </ul>
    </nav>

    <main>
        <h1 id="welcomeMsg">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨ÙƒÙ… ÙÙŠ VipClub</h1>
        <p id="welcomeSub">Ø§Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø­ØµØ±ÙŠØ© ÙˆØ®Ø¯Ù…Ø§Øª Ù…ØªÙ…ÙŠØ²Ø© Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ùƒ.</p>
    </main>

    <!-- Ù‚Ø³Ù… Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
    <section class="videos-section">
        <div class="section-header">
            <h2>Media</h2>
            <p class="section-subtitle"></p>
        </div>
        
        <!-- Ø­Ø§ÙˆÙŠØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª -->
        <div class="video-container-wrapper" id="videoContainer">
            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
        </div>
    </section>

    <div onclick="handleSupportClick()" class="floating-support">
        <i class="fas fa-headset"></i>
        <span class="pulse-dot"></span>
    </div>

    <footer>
        &copy; Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø·Ø¨Ø¹ ÙˆØ§Ù„Ù†Ø´Ø± Ù…Ø­ÙÙˆØ¸Ø© 2026 VipClub
    </footer>

    <script>
        // ğŸ”¥ ØªÙƒÙˆÙŠÙ† Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyAVSzkDLqi1G-hpfEPqvBMmuyYRfEuaTKk",
            authDomain: "vipclub-1d04a.firebaseapp.com",
            databaseURL: "https://vipclub-1d04a-default-rtdb.firebaseio.com",
            projectId: "vipclub-1d04a",
            storageBucket: "vipclub-1d04a.firebasestorage.app",
            messagingSenderId: "120667552740",
            appId: "1:120667552740:web:02085765fd43eb0080e5f1"
        };

        // ØªÙ‡ÙŠØ¦Ø© Firebase
        let database;
        try {
            firebase.initializeApp(firebaseConfig);
            database = firebase.database();
            console.log('âœ… Firebase connected');
        } catch (error) {
            console.error('âŒ Firebase error:', error);
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
        function getCurrentUser() {
            return JSON.parse(localStorage.getItem('currentUser'));
        }

        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
        const defaultVideos = [
            {
                id: 1,
                title: "VipMacro Application 2026 For AnyMouse",
                description: "Working Safe 100% and you can import ur bloody & logitech scripts / files into the app",
                url: "videos/video1.mp4",
                thumbnail: "images/videoslogo/vipclub.png", // â† Ø¶Ø¹ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§
                views: 18,
                date: "15 Ù…Ø§Ø±Ø³ 2026"
            },
            {
                id: 2,
                title: "Customize your CrossHair Application 2026 For Any Screen",
                description: "Safe & Secure / easy use!",
                url: "videos/video2.mp4",
                thumbnail: "images/videoslogo/vipclub.png", // â† Ø¶Ø¹ Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ù‡Ù†Ø§
                views: 18,
                date: "15 Ù…Ø§Ø±Ø³ 2026"
            },

            // ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù‡Ù†Ø§
            // Ø£Ùˆ ØªØ±Ùƒ ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙØ±Ø¯ÙŠ
        ];

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
        async function loadVideos() {
            const videoContainer = document.getElementById('videoContainer');
            
            // Ø¹Ø±Ø¶ Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            videoContainer.innerHTML = `
                <div style="width: 100%; text-align: center; padding: 40px;">
                    <i class="fas fa-spinner fa-spin" style="font-size: 2rem; color: #ffd700; margin-bottom: 15px;"></i>
                    <div>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª...</div>
                </div>
            `;
            
            try {
                // ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„: ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…Ù† Firebase
                // const videosRef = database.ref('videos');
                // const snapshot = await videosRef.once('value');
                // const videos = snapshot.val() || defaultVideos;
                
                // Ù„Ù„Ø¢Ù† Ù†Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                const videos = defaultVideos;
                
                if (videos.length === 0) {
                    showNoVideosMessage();
                    return;
                }
                
                // Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯Ù‡Ø§
                displayVideos(videos);
                
            } catch (error) {
                console.error('Error loading videos:', error);
                // Ø¥Ø°Ø§ Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ù†Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                displayVideos(defaultVideos);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ø¯Ø¯
        function displayVideos(videos) {
            const videoContainer = document.getElementById('videoContainer');
            videoContainer.innerHTML = '';
            
            if (videos.length === 1) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·
                displaySingleVideo(videos[0]);
            } else {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø£ÙƒØ«Ø± Ù…Ù† ÙÙŠØ¯ÙŠÙˆ
                displayMultipleVideos(videos);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ ÙÙŠØ¯ÙŠÙˆ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· (ÙŠØ£Ø®Ø° Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ÙƒØ§Ù…Ù„)
        function displaySingleVideo(video) {
            const videoContainer = document.getElementById('videoContainer');
            
            videoContainer.innerHTML = `
                <div class="single-video-layout">
                    <div class="video-card">
                        <div class="video-container" id="videoContainer-${video.id}">
                            <iframe src="" 
                                    title="${video.title}" 
                                    frameborder="0" 
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                    allowfullscreen>
                            </iframe>
                            <img src="${video.thumbnail || 'https://via.placeholder.com/800x450/1a1a1a/ffd700?text=VIP+CLUB'}" 
                                 alt="${video.title}" 
                                 class="video-thumbnail" 
                                 id="thumbnail-${video.id}">
                            <div class="play-button" onclick="playVideo(${video.id})">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="video-info">
                            <h3 class="video-title">${video.title}</h3>
                            <p class="video-description">${video.description}</p>
                            <div class="video-meta">
                                <div class="video-date">
                                    <i class="far fa-calendar-alt"></i>
                                    <span>${video.date}</span>
                                </div>
                                <div class="video-views">
                                    <i class="far fa-eye"></i>
                                    <span>${video.views.toLocaleString()} Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø¹Ø¯Ø© ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª (Ø¨Ø¬Ø§Ù†Ø¨ Ø¨Ø¹Ø¶)
        function displayMultipleVideos(videos) {
            const videoContainer = document.getElementById('videoContainer');
            
            videoContainer.innerHTML = `
                <div class="multiple-videos-layout">
                    ${videos.map(video => `
                        <div class="video-card">
                            <div class="video-container" id="videoContainer-${video.id}">
                                <iframe src="" 
                                        title="${video.title}" 
                                        frameborder="0" 
                                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                                        allowfullscreen>
                                </iframe>
                                <img src="${video.thumbnail || 'https://via.placeholder.com/350x200/1a1a1a/ffd700?text=VIP+CLUB'}" 
                                     alt="${video.title}" 
                                     class="video-thumbnail" 
                                     id="thumbnail-${video.id}">
                                <div class="play-button" onclick="playVideo(${video.id})">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                            <div class="video-info">
                                <h3 class="video-title">${video.title}</h3>
                                <p class="video-description">${video.description}</p>
                                <div class="video-meta">
                                    <div class="video-date">
                                        <i class="far fa-calendar-alt"></i>
                                        <span>${video.date}</span>
                                    </div>
                                    <div class="video-views">
                                        <i class="far fa-eye"></i>
                                        <span>${video.views.toLocaleString()} Ù…Ø´Ø§Ù‡Ø¯Ø©</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø©
        function playVideo(videoId) {
            const video = defaultVideos.find(v => v.id === videoId);
            if (!video) return;
            
            const iframe = document.querySelector(`#videoContainer-${videoId} iframe`);
            const thumbnail = document.getElementById(`thumbnail-${videoId}`);
            
            // ØªØ¹ÙŠÙŠÙ† Ù…ØµØ¯Ø± Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
            iframe.src = video.url;
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…ØµØºØ±Ø©
            thumbnail.classList.add('hidden');
            
            // Ø¥Ø®ÙØ§Ø¡ Ø²Ø± Ø§Ù„ØªØ´ØºÙŠÙ„
            const playButton = thumbnail.nextElementSibling;
            playButton.style.display = 'none';
            
            // Ø²ÙŠØ§Ø¯Ø© Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª (Ù…Ø­Ø§ÙƒØ§Ø©)
            video.views++;
            
            // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø´Ø§Ù‡Ø¯Ø§Øª
            const viewsElement = document.querySelector(`#videoContainer-${videoId} .video-views span`);
            if (viewsElement) {
                viewsElement.textContent = video.views.toLocaleString() + ' Ù…Ø´Ø§Ù‡Ø¯Ø©';
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª
        function showNoVideosMessage() {
            const videoContainer = document.getElementById('videoContainer');
            videoContainer.innerHTML = `
                <div class="no-videos">
                    <i class="fas fa-video-slash"></i>
                    <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
                    <p>Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø­ØµØ±ÙŠØ© Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ù„Ø£Ø¹Ø¶Ø§Ø¡ VipClub. ØªØ§Ø¨Ø¹Ù†Ø§!</p>
                </div>
            `;
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù…Ù† Firebase
        async function loadNotifications() {
            try {
                const user = getCurrentUser();
                if (!user || !user.numericId) {
                    showNoUserMessage();
                    return;
                }

                const usersRef = database.ref('users');
                const snapshot = await usersRef.orderByChild('numericId').equalTo(user.numericId).once('value');
                
                if (!snapshot.exists()) {
                    showNoNotifications();
                    return;
                }

                const userData = snapshot.val();
                const userId = Object.keys(userData)[0];
                const notificationsRef = database.ref('users/' + userId + '/notifications');
                const notifSnapshot = await notificationsRef.once('value');

                const list = document.getElementById('notifList');
                
                if (!notifSnapshot.exists()) {
                    showNoNotifications();
                    return;
                }

                const notifications = [];
                let unreadCount = 0;
                const notifData = notifSnapshot.val();

                for (const key in notifData) {
                    const notif = notifData[key];
                    notifications.push({
                        key: key,
                        text: notif.text || '',
                        read: notif.read || false,
                        date: notif.date || 'Ù‚Ø±ÙŠØ¨Ø§Ù‹'
                    });
                    if (!notif.read) unreadCount++;
                }

                notifications.sort((a, b) => {
                    return b.key.localeCompare(a.key);
                });

                const badge = document.getElementById('notifBadge');
                if (unreadCount > 0) {
                    badge.innerText = unreadCount;
                    badge.style.display = 'block';
                } else {
                    badge.style.display = 'none';
                }

                if (notifications.length === 0) {
                    showNoNotifications();
                    return;
                }

                list.innerHTML = '';
                notifications.forEach(notif => {
                    const item = document.createElement('div');
                    item.className = `notif-item ${!notif.read ? 'unread' : ''}`;
                    item.innerHTML = `
                        <div style="flex:1;">
                            <div>${notif.text}</div>
                            <small style="color:#aaa; font-size:0.7rem;">${notif.date}</small>
                        </div>
                        <div>
                            ${!notif.read ? 
                                `<i class="fas fa-eye" onclick="markAsRead('${userId}', '${notif.key}')" 
                                    style="cursor:pointer; color:#ddd; margin-left:5px;" title="ØªØ¹ÙŠÙŠÙ† ÙƒÙ…Ù‚Ø±ÙˆØ¡"></i>` : ''
                            }
                            <i class="fas fa-trash delete-notif" onclick="deleteNotif('${userId}', '${notif.key}')" title="Ø­Ø°Ù"></i>
                        </div>
                    `;
                    list.appendChild(item);
                });

            } catch (error) {
                console.error('Error loading notifications:', error);
                const list = document.getElementById('notifList');
                list.innerHTML = '<div style="padding:30px; text-align:center; color:#888;">Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>';
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ¹ÙŠÙŠÙ† Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡
        async function markAsRead(userId, notifKey) {
            try {
                await database.ref('users/' + userId + '/notifications/' + notifKey).update({
                    read: true
                });
                loadNotifications();
            } catch (error) {
                console.error('Error marking as read:', error);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©
        async function markAllRead() {
            try {
                const user = getCurrentUser();
                if (!user || !user.numericId) return;

                const usersRef = database.ref('users');
                const snapshot = await usersRef.orderByChild('numericId').equalTo(user.numericId).once('value');
                
                if (!snapshot.exists()) return;

                const userData = snapshot.val();
                const userId = Object.keys(userData)[0];
                const notificationsRef = database.ref('users/' + userId + '/notifications');
                const notifSnapshot = await notificationsRef.once('value');

                if (!notifSnapshot.exists()) return;

                const updates = {};
                notifSnapshot.forEach(child => {
                    updates[child.key + '/read'] = true;
                });

                await notificationsRef.update(updates);
                loadNotifications();
            } catch (error) {
                console.error('Error marking all as read:', error);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø­Ø°Ù Ø¥Ø´Ø¹Ø§Ø±
        async function deleteNotif(userId, notifKey) {
            if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±ØŸ')) return;
            
            try {
                await database.ref('users/' + userId + '/notifications/' + notifKey).remove();
                loadNotifications();
            } catch (error) {
                console.error('Error deleting notification:', error);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        async function deleteAllNotifs() {
            if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§ØªØŸ')) return;
            
            try {
                const user = getCurrentUser();
                if (!user || !user.numericId) return;

                const usersRef = database.ref('users');
                const snapshot = await usersRef.orderByChild('numericId').equalTo(user.numericId).once('value');
                
                if (!snapshot.exists()) return;

                const userData = snapshot.val();
                const userId = Object.keys(userData)[0];
                
                await database.ref('users/' + userId + '/notifications').remove();
                loadNotifications();
            } catch (error) {
                console.error('Error deleting all notifications:', error);
            }
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ø³ØªØ®Ø¯Ù…
        function showNoUserMessage() {
            const list = document.getElementById('notifList');
            list.innerHTML = `
                <div style="padding:30px 20px; text-align:center; color:#888;">
                    <i class="fas fa-user-lock" style="font-size:2rem; margin-bottom:10px;"></i>
                    <div>ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
                    <button onclick="window.location.href='Login.html'" 
                            style="margin-top:15px; padding:8px 15px; background:#ffd700; border:none; border-radius:5px; cursor:pointer;">
                        ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                    </button>
                </div>
            `;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNoNotifications() {
            const list = document.getElementById('notifList');
            list.innerHTML = `
                <div style="padding:40px 20px; text-align:center; color:#888;">
                    <i class="far fa-bell" style="font-size:2rem; margin-bottom:10px;"></i>
                    <div>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
                </div>
            `;
        }

        // ÙØªØ­/Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function toggleNotifs() {
            const dropdown = document.getElementById('notifDropdown');
            dropdown.classList.toggle('active');
            
            if (dropdown.classList.contains('active')) {
                loadNotifications();
            }
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function updateUI() {
            const user = getCurrentUser();
            if (user) {
                document.getElementById('welcomeMsg').innerText = `Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ${user.nickname || user.username || 'Ù…Ø³ØªØ®Ø¯Ù…'}`;
                if (document.getElementById('notifDropdown').classList.contains('active')) {
                    loadNotifications();
                }
            }
        }

        // Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙ†Ù‚Ù„
        function handleProfileClick() {
            const user = getCurrentUser();
            if (user) {
                window.location.href = 'profile.html';
            } else {
                alert("ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
                window.location.href = 'Login.html';
            }
        }

        function handleSettingsClick() {
            const user = getCurrentUser();
            if (user) {
                window.location.href = 'settings.html';
            } else {
                alert("ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
                window.location.href = 'Login.html';
            }
        }

        function handleSupportClick() {
            const user = getCurrentUser();
            if (user) {
                window.location.href = 'supportindex.html';
            } else {
                alert("ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹");
                window.location.href = 'Login.html';
            }
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        window.onclick = function(event) {
            const dropdown = document.getElementById('notifDropdown');
            const iconWrapper = document.querySelector('.icon-wrapper');
            
            if (!event.target.closest('.icon-wrapper') && dropdown.classList.contains('active')) {
                dropdown.classList.remove('active');
            }
        };

        // Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.onload = function() {
            updateUI();
            loadVideos(); // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆÙ‡Ø§Øª Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        };
    </script>
</body>

</html>

